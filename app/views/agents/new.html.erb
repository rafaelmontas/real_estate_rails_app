<%#= provide(:button_text_for_nav, 'Registrate') %>
<%#= provide(:url, agents_signup_path) %>

<div class="main-container">
  <div class="container-fluid">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-10 col-sm-push-1 col-md-8 col-md-push-2 col-lg-6 col-lg-push-3">
          <%= form_for(@agent, url: agents_signup_path, html: { class: "card" }) do |f| %>
            <%= render 'shared/error_messages' %>

            <div class="card-header">
              <h1 class="text-center">Crear cuenta profesional</h1>
              <small class="text-center hidden-xs">Sign up to use your professional dashboard—it's fast and free. Showcase your brand, enhance your listings and much more.</small>
            </div>
            <div class="col-sm-10 col-sm-push-1 clearfix m-t-20 card-body">
              <div class="image_to_preview">
                <% if @agent.errors.any? && @agent.avatar.present? %>
                  <%= image_tag @agent.avatar_url(:small), class: "default_image" %>
                <% elsif @agent.errors.any? %>
                  <%= image_tag("https://s3.amazonaws.com/real.estate.app/agents_images/default_avatar.png", class: "default_image", id: "output") %>
                <% elsif @agent.avatar.present? %>
                  <%= image_tag @agent.avatar_url(:small), class: "default_image", id: "output" %>
                <% else %>
                  <%= image_tag("https://s3.amazonaws.com/real.estate.app/agents_images/default_avatar.png", class: "default_image", id: "output") %>
                <% end %>
              </div>
              <div class="form-group">
                <%= f.hidden_field :avatar, value: @agent.cached_avatar_data %>
                <%= f.file_field :avatar, onchange: 'loadFile(event)', id: "hidden" %>
              </div>
              <div class="form-group">
                <div class="input-group">
                  <%= f.label :name, "Nombre", class: "control-label" %>
                  <%= f.text_field :name, placeholder: "Introducir nombre", class: "form-control" %>
                </div>
              </div>
              <div class="form-group">
                <%= f.label :email, "Email", class: "control-label" %>
                <%= f.email_field :email, placeholder: "Dirección de email", class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :phone_number, "Número De Teléfono Principal" %>
                <%= f.text_field :phone_number, placeholder: "Número de teléfono sin guiones o espacios", class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :alt_phone_number, "Número De Teléfono Secundario" %>
                <%= f.text_field :alt_phone_number, placeholder: "Número de teléfono sin guiones o espacios", class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :password, "Contraseña" %>
                <%= f.password_field :password, placeholder: "Introducir contraseña", class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :password_confirmation, "Confirmar Contraseña" %>
                <%= f.password_field :password_confirmation, placeholder: "Confirme su contreseña", class: "form-control" %>
              </div>
            </div>
            <div class="text-center m-t-20 col-sm-12">
              <%= f.submit "Crear cuenta", class: "btn btn-primary signup" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
